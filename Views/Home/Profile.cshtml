@model ProfileViewModel
@{
	ViewData["Title"] = "Profile";
}
<form id="verify" method="POST" asp-action="Profile" asp-antiforgery=false hidden>
	<input name="user" class="username" hidden>
	<input name="passwordError" value="@Model.PasswordChangeError" hidden>
	<input name="passwordSuccess" value="@Model.PasswordChangeSuccess" hidden>
	<input name="token" class="token" hidden>
	<button hidden></button>
</form>
<div class="circular-landscape" style="background-image: url(@Model.ProfilePicture)"></div>
<h2 id="username">@Model.Username</h2>
<br>
<form id="profile-change" class="fit md-form" asp-controller="Img" asp-action="Upload" method="POST" asp-antiforgery=false>
	<input name="url" class="bottom-line-input" placeholder="Paste an image URL to an image here.">
	<button class="btn btn-primary">Set Picture</button>
	<input name="user" class="username" hidden>
	<input name="token" class="token" hidden>
	<input name="fileUpload" value="false" hidden>
	<br>
	<small>(png, webp, jpeg, and jpg links are accepted)</small>
</form>
<br>
<h5 class="text-weight-bold">OR</h5>
<form id="profile-change" enctype="multipart/form-data" class="fit md-form padding-left-md" asp-controller="Img" asp-action="Upload" method="POST" asp-antiforgery=false>
	<div class="row">
		<div class="input-group col">
				<input name="file" type="file" class="custom-file-input" id="input-file">
				<label class="custom-file-label" for="input-file">Choose image file</label>
		</div>
		<div class="col">
			<button class="btn btn-primary">Set Picture</button>
		</div>
	</div>
	<small>(png, webp, jpeg, and jpg file endings are accepted)</small>
	<input name="user" class="username" hidden>
	<input name="token" class="token" hidden>
	<input name="fileUpload" value="true" hidden>
</form>
<br>
<hr>
<form asp-controller="Topics" asp-action="CreateTopic">
	<button type="submit" type="button" class="btn btn-primary">Create a topic</button>
</form>
<br>
<br>
<div class="card w-25 account-form">
	<span class="bg-silver card-title rounded-top text-dark padding-md h5">Change your password</span>
	<div class="card-body">
		<form method="POST" asp-action="ChangePassword" asp-antiforgery=false>
			<input type="hidden" name="user" class="username" hidden>
			<input type="hidden" name="token" class="token" hidden>
			<input class="bottom-line-input" autocomplete="off" type="password" name="old" placeholder="Old password"><br>
			<input class="bottom-line-input" autocomplete="off" type="password" name="newPassword" placeholder="New password"><br>
			<input class="bottom-line-input" autocomplete="off" type="password" name="newAgain" placeholder="Retype new password"><br><br>
			<button class="btn btn-primary">Change password</button>
			<br>
		</form>
	</div>
</div>
<br>
<p class="error-message">@Model.PasswordChangeError</p>
<p class="text-success">@Model.PasswordChangeSuccess</p>
<hr>
<button onclick="javascript:logout()" type="button" class="btn btn-danger">Logout</button>
<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script>
	var submit = Boolean(@string.IsNullOrEmpty(Model.Username).ToString().ToLower());
</script>
<script src="/js/profile.js"></script>